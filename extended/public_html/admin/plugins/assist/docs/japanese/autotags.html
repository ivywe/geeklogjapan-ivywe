<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Assist | Geeklogドキュメント</title>
  <link rel="stylesheet" type="text/css" href="../../../../../docs/docstyle.css " title="Dev Stylesheet">
  <link rel="stylesheet" type="text/css" href="../../../../../docs/japanese/docstyle.css " title="Dev Stylesheet">
</head>
<!-- admin/plugins/assist/docs/japanese/autotags.html 20160819 -->
<body>
<p><a href="http://www.geeklog.jp" style="background:transparent"><img src="../../../../../docs/images/newlogo.gif" alt="Geeklog Documentation" width="243" height="90"></a></p>
<div class="menu">
<a href="../../../../../docs/japanese/index.html">Geeklogドキュメント</a>
- <a href="index.html">Assist プラグイン</a>
- 設定</div>
<p>
<a href="../../../../../">トップページ</a>
 <a href="../../../../../admin/plugins/assist/">管理画面</a>
</p>
<h1><a href="index.html">Assist プラグイン</h1>


<h2><a name="autotags">自動タグ</a>(2016/08/19 update)</h2>
<table>
<tr><th style="width:25%">書式</th>
    <th style="width:75%">説明</th>
</tr>
<tbody>
<tr>
<td>[conf:変数名]</td>
<td>$_CONF[変数名] の値を返す<br />
例1：[conf:site_url]<br />
例2：[conf:site_name]<br />
例3：[conf:site_mail]<br />
例4：[conf:site_slogan]<br />
</td>
</tr>
<tr class="r2">
<td>[assist:usercount]</td>
<td>登録ユーザー数</td>

<tr>
<td>[assist:usercount_location]</td>
<td>location登録ユーザー数</td>
</tr>

<tr class="r2">
<td>[assist:staticpage_content]</td>
<td>
例1:[assist:staticpage_content] id=blockpageの静的ページを無条件に表示する<br />
例2:[assist:staticpage_content id:xxxx urlkey:yyyy] urlまたはスクリプトの引数にyyyyを含む場合にidがxxxx の静的ページを表示する<br />
例3:[assist:staticpage_content id:xxxx mode:home] ホームの場合にidがxxxx の静的ページを表示する<br />
例4:[assist:staticpage_content id:xxxx mode:sub] ホーム以外の場合にidがxxxx の静的ページを表示する<br />
例5:[assist:staticpage_content id:xxxx mode:except] 指定したキーワードを含まないサブページの場合にidがxxxx の静的ページを表示する<br />
指定された静的ページを表示する権限のないユーザーがアクセスしている場合は表示されません<br />
modeが指定されている場合　urlkeyの指定は無視されます<br />
idが指定されていない場合は、blockpage が指定されたものとします<br />
多言語サイトの場合、id:xxxx_jpの言語idは、urlの第一引数または現在の言語モードに基づき、自動的に変換されます。（第一引数優先）
</td>
</tr>

<tr>
<td>[assist:user_homepage uid:9]</td>
<td>
指定ユーザー（省略時ログインユーザー）のホームページ
</td>
</tr>


<tr class="r2">
<td>[assist:user_location uid:9]</td>
<td>
指定ユーザー（省略時ログインユーザー）の居住地
</td>
</tr>


<tr>
<td>[assist:user_sig uid:9]</td>
<td>
指定ユーザー（省略時ログインユーザー）の署名
</td>
</tr>


<tr class="r2">
<td>[assist:user_photo uid:9 width:9 height:9]</td>
<td>
指定ユーザー（省略時ログインユーザー）の写真
</td>
</tr>


<tr>
<td>[assist:user_about uid:9 ]</td>
<td>
指定ユーザー（省略時ログインユーザー）の自己紹介

</td>
</tr>


<tr class="r2">
<td>[assist:user_pgpkey uid:9 ]</td>
<td>
指定ユーザー（省略時ログインユーザー）のPGP鍵
</td>
</tr>


<tr>
<td>[assist:uid]</td>
<td>
ログインユーザーのuid
</td>
</tr>


<tr class="r2">
<td>[assist:username uid:9]</td>
<td>
指定ユーザー（省略時ログインユーザー）のユーザー名
</td>
</tr>


<tr>
<td>[assist:fullname uid:9]</td>
<td>
指定ユーザー（省略時ログインユーザー）の氏名
</td>
</tr>

<tr class="r2">
<td>[assist:showgroup]</td>
<td>
ログインユーザーの所属するグループ一覧出力
</td>
</tr>

<tr>
<td>[assit:newstories  話題ID RSSファイルほか例1参照]</td>
<td>
新着記事（おしらせ）<br />
例1:[assist:newstories] 話題はコンフィギュレーション設定のデフォルトトピック、設定されてない場合はALL<br />
例2:[assist:newstories topics:news rss_file:news.rss title_trim_length:50 intervalday:70 limitcnt:40 newmarkday:30 templatedir:xxxx]<br />
例3:話題news を全件表示  [assit:newstories topics:news intervalday:0]<br />
例4:話題news を/テーマ/xxxx/ のテンプレートで表示  [assist:newstories topics:news templatedir:xxxx]<br />
例5:[assist:newstories topics:ALL]　全話題<br />
例6:[assist:newstories topics:news|General]　話題の複数指定<br />
例7:[assist:newstories permission:ignore]　アクセス権のないデータも表示します。ただしリンクはしません。
コンフィギュレーション設定の新着データのpermission ignore を無効にする(disable_permission_ignore)が「はい」の場合は無効です。</td>
</tr>


<tr class="r2">
<td>
[assit:home_id]
</td>
<td>
home または sub （言語ファイルで変更可）
</td>
</tr>

<tr>
<td>
[assit:login_status]
</td>
<td>
member または guest （言語ファイルで変更可）
</td>
</tr>

<tr class="r2">
<td>
[assit:topic_id]
</td>
<td>
現在の画面の話題ID
</td>
</tr>

<tr>
<td>
[assit:sp_id]
</td>
<td>
現在の画面の静的ページID
</td>
</tr>

<tr class="r2">
<td>
[assit:rss RSSファイルほか例1参照]
</td>
<td>
rss の表示<br />
例1:[assist:rss urlrss:www.rentpro.co.jp/backend/databoxchintai.rss strip_tags:-1 description_trim_length:30 templatedir:aaa]<br />
例2:[assist:rss]<br />
</td>
</tr>

<tr >
<td><a name="btn">
[assist:btn typeほか例1参照 ]</a>
</td>
<td>
ソーシャルボタン・ボックス の表示<br />
例1:[assist:btn type:fblikebtn templatedir:aaa]<br />
例2:[assist:btn type:evclip]<br />
例3:[assist:btn type:fbcomment]<br />
例4:[assist:btn type:tweet]<br />
例5:[assist:btn type:plusone]<br />
</td>
</tr>

<tr class="r2">
<td>
[assist:truncate text:x maxlen:9 filler:x endchars:9]
</td>
<td>
文字列を区切る<br />
例１；[assist:truncate text:あいうえおかきくけこ maxlen:3]<br />
例２；[assist:truncate text:あいうえおかきくけこ maxlen:3 filler:...]<br />
例３；[assist:truncate text:あいうえおかきくけこ maxlen:1 filler:... endchars:3]</td>
</tr>

<tr >
<td>
[assist:cache id:top type:staticpages]
</td>
<td><a name="desc_cache"></a>
キャッシュファイルを返す<br />
例１；[assist:cache id:top]<br />
例２；[assist:cache id:top type:staticpages]<br />
キャッシュファイルは、<a title="Assistプラグインのコンフィギュレーション設定" class="note_super" href="assist.html#desc_path_cache">キャッシュパス</a>/<a title="例１例２の場合staticpages" class="note_super" href="#desc_cache">type</a>/<a title="例１例２の場合top" class="note_super" href="#path_cache">id</a>.html <br />
キャッシュファイルが存在しない場合は、空白を返します<br />
</tr>
<tr class="r2">
<td>[assist:staticpage]</td>
<td>
例１：[assist:staticpage id:xxxx]<br />
例２：[assist:staticpage id:xxxx linktext]<br />
linktext が省略されている場合は、タイトルをlinktextとします。<br />
linktext は、必ず最後に記述してください。半角スペースを含む内容も記述可能です。<br />
該当ページがない場合もリンクは表示されます。<br />
多言語サイトの場合、id:xxxx_jpの言語idは、urlの第一引数または現在の言語モードに基づき、自動的に変換されます。（第一引数優先）
</td>
</tr>

</tbody>
</table>

<h2>旧バージョンの自動タグ</h2>
<table>
<tr><th style="width:25%">書式</th>
    <th style="width:75%">説明</th>
</tr>
<tbody>
<tr>
<td>[newstories:話題ID RSSファイル]
<br />　→　[assist:newstories</td>
<td>
新着記事（おしらせ）<br />
例1:[newstories:news news.rss]<br />
例2:[newstories:]話題指定省略時はコンフィギュレーション設定値、設定値がない場合はALL<br />
例3:[newstories:ALL]全話題<br />
例4:[newstories:news|General] 話題の複数指定<br />
</td>
</tr>

<tr class="r2">
<td>[newstories2:話題ID RSSファイルほか例1参照]
<br />　→　[assist:newstories</td>
</td>
<td>
新着記事（おしらせ）<br />
例1:[newstories2:news rss_file:news.rss title_trim_length:50 intervalday:70 limitcnt:40 newmarkday:30 thtml:xxxx]<br />
例2:話題news を全件表示  [newstories2:news intervalday:0]<br />
例3:話題news を/テーマ/xxxx/ のテンプレートで表示  [newstories2:news thtml:xxxx]<br />
例4:[newstories2:ALL]全話題<br />
例5:[newstories2:news|General] 話題の複数指定<br />
</td>
</tr>
</tbody>
</table>

<h2>ブロック用関数(2010/12/03 update)</h2>
<table>
<tr><th style="width:25%">関数名</th>
    <th style="width:75%">説明</th>
</tr>
<tbody>
<tr>
  <td>phpblock_shownewstories</td>
  <td>&nbsp;</td>
</tr>
<tr>
  <td>phpblock_shownewstories_news</td>
  <td>話題id=newsの新着記事の一覧を表示する</td>
</tr>
<tr class="r2">
  <td>phpblock_showstaticpage</td>
  <td>id=blockpageの静的ページを表示する</td>
</tr>
<tr>
  <td>phpblock_showgroup</td>
  <td>ログインユーザーの所属するグループ一覧出力</td>
</tr>
</tbody>
</table>

<div class="footer">
    <a href="http://wiki.geeklog.net/">Geeklogドキュメント作成プロジェクト</a>、<a href="http://wiki.geeklog.jp/">Geeklogドキュメント日本語版作成プロジェクト</a><br />
    本ページのすべての商標と著作権はそれぞれの所有者に帰属します。Geeklogはコピーレフトです。
</div>

</body>
</html>
